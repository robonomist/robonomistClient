---
output: github_document
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  fig.path = "man/figures/",
  comment = "#>",
  cache = TRUE
)
library(robonomistClient)
library(tidyverse)
data()
```

# Robonomist Client <a href='https://robonomist.com'><img src='man/figures/logo.png' align="right" height="138.5" /></a>

The `robonomistClient` package is a robust R client for effortless access to statistical data. It empowers  researchers, analysts, and developers to easily discover, retrieve, and analyze up-to-date data from numerous national and international sources — all in tidy, analysis-ready formats.

## Key Features

The main features of `robonomistClient` include:

**Comprehensive Data Coverage**

Access data from national statistical agencies, international organizations, and regional sources — all in one place. Spend less time searching for data and more time analyzing it.

* Eurostat, OECD, World Bank, European Central Bank, and more.

**High Data Fidelity and Trust**

All data is reliable and accurately reflects the information from official statistical agencies. Datasets include comprehensive metadata, ensuring your analysis is based on credible and transparent information.

* Full transparency on data sources.
* Detailed metadata included.

**Flexibility in Data Retrieval**

Customize the way data is retrieved to fit your specific needs:

* Multilingual support
* Choose between variable labels or codes.
* Interpret time variables as dates or raw values.

**Seamless Integration for Dynamic Workflows**

Designed for robust integration with R, `robonomistClient` makes it easy to build dynamic documents and automatically updating applications:

* Provides a stable API, reducing disruptions from changes in official statistics APIs.
* Focus on insights, not data wrangling.

## Datasources

The `robonomistClient` package provides seamless and efficient access to [a wide range of datasources](https://robonomist.github.io/robonomistClient/articles/datasources.html) via the Robonomist Data Server. With support for **`r format(nrow(distinct(data(), id)), big.mark = " ")` up-to-date data tables** across **`r nrow(datasources())` distinct datasources** and **`r length(unique(unlist(datasources()$languages)))` languages**, the package is designed to streamline your data analysis workflow.

**International Datasources**

* **Global Institutions**: OECD, International Monetary Fund (IMF), World Bank, United Nations Economic Commission for Europe Statistical Database (UNECE), United Nations Conference on Trade and Development (UNCTAD), FAO (Food and Agriculture Organization), Bank for International Settlements (BIS).
* **European Union**: Eurostat, European Commission, European Central Bank (ECB).
* **Nordic Countries**: Statistics Sweden, Swedish National Institute of Economic Research, Swedish Agricultural Agency, Statistics Norway, Statistics Denmark, Statistics Iceland, Statistics Estonia, Nordic Statistics Database.

**Finnish Datasources**

* **Statistics Finland**: StatFin, StatFin archive databases, Municipal figures & financial data, Paavo postal code area statistics, experimental statistics, immigrants and integration database.
* **Regional Data**: Helsingin seudun aluesarjat -tilastotietokanta, Helsingin ympäristötilasto.
* **National Agencies**: Finnish Tax Administration, Finnish Centre for Pensions, Natural Resources Institute Finland (LUKE), Traficom (Finnish Transport and Communications Agency), Customs Finland, THL Sotkanet, Vipunen (Education Statistics Finland), Fingrid, TutkiHallintoa.fi (Valtiokonttori).

**Thematic & Specialized Datasources**

* **Energy & Environment**: Entso-E Transparency Platform, U.S. Energy Information Administration database, Fingrid.
* **Financial**: Deutsche Bundesbank time series database, FRED (Federal Reserve Economic Data**.
* **Health & Pandemic Data**: THL Epirapo, ECDC.

This list highlights just some of the [many datasources available](https://robonomist.github.io/robonomistClient/articles/datasources.html) through the `robonomistClient` package.

## Getting started

To set up a Robonomist Data Server for your organization, contact <team@robonomist.com>.

### 1. Install the Package

Install the package from GitHub:

```{r, eval = FALSE}
# Install devtools if needed
# install.packages("devtools")

# Install robonomistClient from GitHub
devtools::install_github("robonomist/robonomistClient")
```

### 2. Set Up Your Connection

Set the hostname and access token for your Robonomist Data Server using `set_robonomist_server()`:

```{r, include = FALSE}
library(robonomistClient)
options(
  robonomistClient.datasources_print_n = 10,
  robonomistClient.search_print_n = 10
)
```

```{r, eval = FALSE}
library(robonomistClient)

set_robonomist_server(hostname = "hostname.com", access_token = "abc")
```

### 3. Explore Available Datasources

See available datasources with the `datasources()` function:
```{r}
datasources()
```

### 4. Search and Retrieve Data Tables

Use the `data()` function to search and list data tables:

```{r}
data()
```

Search for tables related to employment:
```{r}
data("employment eurostat")
```

Search for a specific dataset in another language:
```{r, eval = FALSE}
data("eurostat/ lfs", lang = "de")
```

You can search with keywords, partial names, or dataset IDs.

### 5. Retrieve a Specific Data Table

If you know the ID of a data table, retrieve it directly:

```{r}
data("eurostat/bd_hg") |> tail()
```

### 6. Fetch Data Using Web Links

Copy a dataset link from your browser and pass it to `data()`. For example, if you find [a dataset on the OECD website](https://data-explorer.oecd.org/vis?tm=sna&pg=0&fs[0]=Measure%2C0%7CAquaculture%20production%23AQUA_PD%23&fc=Measure&snb=1&vw=tb&df[ds]=dsDisseminateFinalDMZ&df[id]=DSD_FISH_PROD%40DF_FISH_AQUA&df[ag]=OECD.TAD.ARP&df[vs]=1.0&pd=2010%2C&dq=.A.._T.T&ly[rw]=REF_AREA&ly[cl]=TIME_PERIOD&to[TIME_PERIOD]=false), you can retrieve it like this:

```{r}
data("https://data-explorer.oecd.org/vis?tm=sna&pg=0&fs[0]=Measure%2C0%7CAquaculture%20production%23AQUA_PD%23&fc=Measure&snb=1&vw=tb&df[ds]=dsDisseminateFinalDMZ&df[id]=DSD_FISH_PROD%40DF_FISH_AQUA&df[ag]=OECD.TAD.ARP&df[vs]=1.0&pd=2010%2C&dq=.A.._T.T&ly[rw]=REF_AREA&ly[cl]=TIME_PERIOD&to[TIME_PERIOD]=false")
```

### 7. Retrieve Data for Production Use

`robonomistClient` is a stable platform for building dynamic documents and real-time data applications. For production use, use the `data_get()` function with a data table ID for consistent results.

```{r}
# Fetch a specific dataset using its ID for production use
production_data <- data_get("StatFin/synt/statfin_synt_pxt_12dx.px")
```

## Further Reading

For more detailed information and examples, check the package documentation:

* [Basic features](https://robonomist.github.io/robonomistClient/articles/basic_features.html)
* [List of datasources](https://robonomist.github.io/robonomistClient/articles/datasources.html)
* [Examples](https://robonomist.github.io/robonomistClient/articles/examples.html)
* [Filtering large data tables](https://robonomist.github.io/robonomistClient/articles/filtering.html)
