% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{datalock}
\alias{datalock}
\title{Lock and Save Data Locally}
\usage{
datalock(
  x,
  name = NULL,
  path = getOption("robonomistClient.datalock.path"),
  overwrite = getOption("robonomistClient.datalock.overwrite", FALSE)
)
}
\arguments{
\item{x}{The R object to save and lock.}

\item{name}{Optional. The file name to use. If \code{NULL}, a name is generated from a hash of the expression for \code{x}. Must be a single, non-empty character string if provided.}

\item{path}{Optional. Directory path to save the file. Defaults to the value of the 'robonomistClient.datalock.path' option. If \code{NULL}, saves to the current working directory.}

\item{overwrite}{Logical. If \code{TRUE}, overwrites any existing file. If \code{FALSE} (default), reads and returns the existing file if present.}
}
\value{
The value of \code{x} after saving, or the value read from file if it already exists and \code{overwrite} is \code{FALSE}.
}
\description{
Saves an R object \code{x} to a file with a \code{.rdlock} extension, effectively "locking" its value for reproducible use. If the file already exists and \code{overwrite} is \code{FALSE}, the function reads and returns the existing value instead of overwriting it.
}
\note{
If no name is provided, a hash of the expression for \code{x} is used as the file name.
}
\examples{
library(tibble)

# Lock and save a data frame
locked_df1 <-
  tibble(x = runif(3), y = c("a", "b", "c")) |>
  datalock()

# Now re-running the same code retrieves the locked data instead of generating new random values
locked_df2 <-
  tibble(x = runif(3), y = c("a", "b", "c")) |>
  datalock()

# Check that the locked data is identical
identical(locked_df1, locked_df2)  # TRUE

}
